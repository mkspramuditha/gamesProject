<!doctype html>
<html lang="en">
<head>
     <!--first version -->
    <title>Food Pyramid Game</title>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <link rel="stylesheet" type="text/css" href="assets/css/style.css">
    <link rel="stylesheet" type="text/css" href="assets/css/bootstrap.min.css">
     
    <script src="assets/js/jquery-1.10.2.js"></script>
    <script src="assets/js/jquery-ui.js"></script>
    <script src="assets/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="../shared/scormfunctions.js" type="text/javascript"></script>


      
</head>
<body style="background-color:crimson; min-width:600px;"> 

<div id="content">
     <div class="col-md-4 col-md-offset-4 alert alert-success"  style="text-align: center" ><label id="scoreboard"> ලකුණු : 0</label></div>
    <div class="pyramid-game">
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-5" style="z-index: 1">
                    <div class="panel panel-info">
                        <div class="panel-heading">
                            <h3 class="panel-title">ආහාර</h3>
                        </div>
                        <div class="panel-body" style="min-height:500px;padding-left:7%;">
                            <div class="food row">
								<div class="foods col-xs-3 food-1-1"></div>
								<div class="foods col-xs-3 food-1-2"></div>
                                <div class="foods col-xs-3 food-2-1"></div>
                                <div class="foods col-xs-3 food-2-2"></div>
								
                                <div class="foods col-xs-3 food-3-1"></div>
                                <div class="foods col-xs-3 food-3-2"></div>
                                <div class="foods col-xs-3 food-3-3"></div>
								<div class="foods col-xs-3 food-3-4"></div>
								
                                <div class="foods col-xs-3 food-4-1"></div>
                                <div class="foods col-xs-3 food-4-2"></div>
                                <div class="foods col-xs-3 food-4-3"></div>
                                <div class="foods col-xs-3 food-5-1"></div>
                                
                                <div class="foods col-xs-3 food-5-2"></div>
                                <div class="foods col-xs-3 food-5-3"></div>
								<div class="foods col-xs-3 food-5-4"></div>
                                <div class="foods col-xs-3 food-5-5"></div>
                                
                                
                                <div class="foods col-xs-3 food-6-1"></div>
                                <div class="foods col-xs-3 food-6-2"></div>
                                <div class="foods col-xs-3 food-6-3"></div>
                                <div class="foods col-xs-3 food-6-4"></div>
                                 

                                <div class="foods col-xs-3 food-6-5"></div>
                                <div class="foods col-xs-3 food-6-6"></div>
                                <div class="foods col-xs-3 food-6-7"></div>
                                
                            </div>
                        </div>

                </div>
            </div>
                <div class="col-md-7">
                    <div class="panel panel-success">
                        <div class="panel-heading" >
                            <h3 class="panel-title">ආහාර පිරමීඩය</h3>
                        </div>
                        <div class="panel-body" style="min-height:500px;background-color:#a69f97;">
                            <div id="pyramid_content" class="levels container-fluid" style="background-color:#a69f97;">
							<table style="margin:auto;">
								<tr><td colspan="4"><div class="level-1">
									<div class="f_color" style="z-index: 1000;margin:0px auto;position:absolute"><p style="margin-left:25px;">මේදය ,<br> සීනි හා<br> ලුණු අධික</p></div>
								</div></td></tr>
                                <tr><td colspan="2"><div class="level-2-1">
										<div class="f_color" style="z-index: 1000;margin:0px auto;position:absolute"><p style="margin-left:0px;margin-top:10px;">කිරි,<br> යෝගට්<br> හා චීස්</p></div>
								</div></td>
								<td colspan="2"><div class="level-2-2">
									<div class="f_color" style="z-index: 1000;margin:0px auto;position:absolute"><p style="margin-left:10px;margin-top:10px;">මාංශ, මාළු ,<br> බිත්තර, බෝංචි<br> හා කජු වර්ග</p></div>
								</div></td></tr>	
                                <tr><td colspan="2"><div class="level-3-1">
									<div class="f_color" style="z-index: 1000;margin:0px auto;position:absolute"><p style="margin-left:80px;margin-top:30px;"> එළවලු</p></div>
								</div></td>
                                <td colspan="2"><div class="level-3-2">
									<div class="f_color" style="z-index: 1000;margin:0px auto;position:absolute"><p style="margin-left:10px;margin-top:30px;">පලතුරු</p></div>
								</div></td></tr>
                                <tr><td colspan="4"><div class="level-4">
									<div class="f_color" style="z-index: 1000;margin:0px auto;position:absolute"><p style="margin-left:150px;">පාන්, ඇට වර්ග,<br> අල වර්ග, පැස්ටා<br> හා සහල්</p></div>
								</div><td><tr>
							<table>	
                            </div>
                        </div>
                    </div>

                </div>
            </div>

        </div>
    </div>
     
</div>
 
<script src="../shared/scormfunctions.js" type="text/javascript"></script>
<script src="../shared/contentfunctions.js" type="text/javascript"></script>
<script type="text/javascript" src="assets/js/script.js"></script>
<script type="text/javascript">

    function ConvertMilliSecondsIntoSCORM2004Time(intTotalMilliseconds){

        var ScormTime = "";

        var HundredthsOfASecond;	//decrementing counter - work at the hundreths of a second level because that is all the precision that is required

        var Seconds;	// 100 hundreths of a seconds
        var Minutes;	// 60 seconds
        var Hours;		// 60 minutes
        var Days;		// 24 hours
        var Months;		// assumed to be an "average" month (figures a leap year every 4 years) = ((365*4) + 1) / 48 days - 30.4375 days per month
        var Years;		// assumed to be 12 "average" months

        var HUNDREDTHS_PER_SECOND = 100;
        var HUNDREDTHS_PER_MINUTE = HUNDREDTHS_PER_SECOND * 60;
        var HUNDREDTHS_PER_HOUR   = HUNDREDTHS_PER_MINUTE * 60;
        var HUNDREDTHS_PER_DAY    = HUNDREDTHS_PER_HOUR * 24;
        var HUNDREDTHS_PER_MONTH  = HUNDREDTHS_PER_DAY * (((365 * 4) + 1) / 48);
        var HUNDREDTHS_PER_YEAR   = HUNDREDTHS_PER_MONTH * 12;

        HundredthsOfASecond = Math.floor(intTotalMilliseconds / 10);

        Years = Math.floor(HundredthsOfASecond / HUNDREDTHS_PER_YEAR);
        HundredthsOfASecond -= (Years * HUNDREDTHS_PER_YEAR);

        Months = Math.floor(HundredthsOfASecond / HUNDREDTHS_PER_MONTH);
        HundredthsOfASecond -= (Months * HUNDREDTHS_PER_MONTH);

        Days = Math.floor(HundredthsOfASecond / HUNDREDTHS_PER_DAY);
        HundredthsOfASecond -= (Days * HUNDREDTHS_PER_DAY);

        Hours = Math.floor(HundredthsOfASecond / HUNDREDTHS_PER_HOUR);
        HundredthsOfASecond -= (Hours * HUNDREDTHS_PER_HOUR);

        Minutes = Math.floor(HundredthsOfASecond / HUNDREDTHS_PER_MINUTE);
        HundredthsOfASecond -= (Minutes * HUNDREDTHS_PER_MINUTE);

        Seconds = Math.floor(HundredthsOfASecond / HUNDREDTHS_PER_SECOND);
        HundredthsOfASecond -= (Seconds * HUNDREDTHS_PER_SECOND);

        if (Years > 0) {
            ScormTime += Years + "Y";
        }
        if (Months > 0){
            ScormTime += Months + "M";
        }
        if (Days > 0){
            ScormTime += Days + "D";
        }

        //check to see if we have any time before adding the "T"
        if ((HundredthsOfASecond + Seconds + Minutes + Hours) > 0 ){

            ScormTime += "T";

            if (Hours > 0){
                ScormTime += Hours + "H";
            }

            if (Minutes > 0){
                ScormTime += Minutes + "M";
            }

            if ((HundredthsOfASecond + Seconds) > 0){
                ScormTime += Seconds;

                if (HundredthsOfASecond > 0){
                    ScormTime += "." + HundredthsOfASecond;
                }

                ScormTime += "S";
            }

        }

        if (ScormTime == ""){
            ScormTime = "0S";
        }

        ScormTime = "P" + ScormTime;

        return ScormTime;
    }

    function RecordTest(score){
//        console.log('called');
//        console.log(score);
        ScormProcessSetValue("cmi.score.raw", score);
        ScormProcessSetValue("cmi.score.min", "0");
        ScormProcessSetValue("cmi.score.max", "100");

        var scaledScore = score / 290;
        ScormProcessSetValue("cmi.score.scaled", scaledScore);

        //consider 70% to be passing
        if (score >= 50){
            ScormProcessSetValue("cmi.success_status", "passed");
        }
        else{
            ScormProcessSetValue("cmi.success_status", "failed");
        }
    }
    ScormProcessInitialize();
    ScormProcessSetValue("cmi.completion_status", "completed");
    var time =ConvertMilliSecondsIntoSCORM2004Time(new Date().getTime());
    ScormProcessSetValue("cmi.session_time", time);
    ScormProcessSetValue("cmi.exit", "");

</script>

</body>
</html>